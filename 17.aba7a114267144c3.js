"use strict";(self.webpackChunkdofus_cosecha=self.webpackChunkdofus_cosecha||[]).push([[17],{2017:(v,l,n)=>{n.r(l),n.d(l,{LoginComponent:()=>g});var t=n(4650),o=n(433),a=n(1281),m=n(9300),u=n(483),c=n(872);const p={theme:"filled_blue",size:"large",width:"500px",logo_alignment:"center",shape:"rectangular",type:"standard",text:"continue_with"};var d=n(1851);const f=["googleButton"],h=function(){return["/"]};class g{constructor(i,e,r,s){this.router=i,this.route=e,this.globalStore=r,this.formBuilder=s,this.form=this.formBuilder.group({email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required,o.kI.minLength(6),o.kI.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)]]})}ngOnInit(){this.renderGoogleButton(),this.globalStore.isLoggedIn$.pipe((0,m.h)(i=>i)).subscribe(()=>{this.router.navigate([this.route.snapshot.queryParams.from??"/"])})}renderGoogleButton(){google.accounts.id.renderButton(this.googleButton.nativeElement,p)}onLoginSubmit(){this.form.invalid||this.globalStore.login({provider:"email",email:String(this.form.value.email),password:String(this.form.value.password)})}static#t=this.\u0275fac=function(e){return new(e||g)(t.Y36(a.F0),t.Y36(a.gz),t.Y36(d.o),t.Y36(o.qu))};static#o=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-login"]],viewQuery:function(e,r){if(1&e&&t.Gf(f,7,t.SBq),2&e){let s;t.iGM(s=t.CRH())&&(r.googleButton=s.first)}},standalone:!0,features:[t.jDz],decls:16,vars:5,consts:[[1,"image"],[3,"routerLink"],["src","./assets/img/logo.png","alt","Logo"],[1,"google-button"],["googleButton",""],[3,"formGroup","ngSubmit"],["type","email","placeholder","example@email.com",3,"control"],["type","password",3,"control"],["role","button",1,"margin-top"]],template:function(e,r){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"main")(2,"a",1),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"h1"),t._uU(5,"Log In"),t.qZA(),t._UZ(6,"div",3,4),t.TgZ(8,"p"),t._uU(9,"Or"),t.qZA(),t._UZ(10,"hr"),t.TgZ(11,"form",5),t.NdJ("ngSubmit",function(){return r.onLoginSubmit()}),t._UZ(12,"app-input",6)(13,"app-input",7),t.TgZ(14,"app-button",8),t._uU(15,"Sign In"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("routerLink",t.DdM(4,h)),t.xp6(9),t.Q6J("formGroup",r.form),t.xp6(1),t.Q6J("control",r.form.controls.email),t.xp6(1),t.Q6J("control",r.form.controls.password))},dependencies:[o.UX,o._Y,o.JL,o.sg,c.a,u.r,a.Bz,a.rH],styles:["[_nghost-%COMP%]{display:grid;min-height:100vh;grid-template-columns:repeat(2,1fr)}.image[_ngcontent-%COMP%]{background-image:url(login.881b1cbe5f42c04b.jpg);background-position:center;background-size:cover;opacity:.7;mix-blend-mode:difference}img[_ngcontent-%COMP%]{width:4rem}main[_ngcontent-%COMP%]{padding:0 2rem;display:grid;place-content:center}h1[_ngcontent-%COMP%]{margin:1rem 0}p[_ngcontent-%COMP%]{display:inline;text-align:center;transform:translateY(2.7rem)}hr[_ngcontent-%COMP%]{border-color:#50555e;margin:2rem 0}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.8rem}"]})}}}]);