"use strict";(self.webpackChunkdofus_cosecha=self.webpackChunkdofus_cosecha||[]).push([[902],{4902:(d,l,e)=>{e.r(l),e.d(l,{LoginComponent:()=>s});var n=e(4650),t=e(433),a=e(1281),u=e(483),m=e(872),c=e(8264);const p=["googleButton"],_=function(){return["/"]};class s{constructor(g,o,r,i){this.router=g,this.route=o,this.formBuilder=r,this.loginService=i,this.form=this.formBuilder.group({email:["",[t.kI.required,t.kI.email]],password:["",[t.kI.required,t.kI.minLength(6),t.kI.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)]]})}ngOnInit(){google.accounts.id.renderButton(this.googleButton.nativeElement,{theme:"filled_blue",size:"large",width:"500px",logo_alignment:"center",shape:"rectangular",type:"standard",text:"continue_with"})}onLoginSubmit(){this.form.invalid||this.loginService.login({provider:"email",email:String(this.form.value.email),password:String(this.form.value.password)}).subscribe(()=>{this.router.navigate([this.route.snapshot.queryParamMap.get("from")??"/"])})}static#n=this.\u0275fac=function(o){return new(o||s)(n.Y36(a.F0),n.Y36(a.gz),n.Y36(t.qu),n.Y36(c.r))};static#t=this.\u0275cmp=n.Xpm({type:s,selectors:[["app-login"]],viewQuery:function(o,r){if(1&o&&n.Gf(p,7,n.SBq),2&o){let i;n.iGM(i=n.CRH())&&(r.googleButton=i.first)}},standalone:!0,features:[n.jDz],decls:16,vars:5,consts:[[1,"image"],[3,"routerLink"],["src","./assets/img/logo.png","alt","Logo"],[1,"google-button"],["googleButton",""],[3,"formGroup","ngSubmit"],["type","email","placeholder","example@email.com",3,"control"],["type","password",3,"control"],["role","button"]],template:function(o,r){1&o&&(n._UZ(0,"div",0),n.TgZ(1,"main")(2,"a",1),n._UZ(3,"img",2),n.qZA(),n.TgZ(4,"h1"),n._uU(5,"Log In"),n.qZA(),n._UZ(6,"div",3,4),n.TgZ(8,"p"),n._uU(9,"Or"),n.qZA(),n._UZ(10,"hr"),n.TgZ(11,"form",5),n.NdJ("ngSubmit",function(){return r.onLoginSubmit()}),n._UZ(12,"app-input",6)(13,"app-input",7),n.TgZ(14,"app-button",8),n._uU(15,"Sign In"),n.qZA()()()),2&o&&(n.xp6(2),n.Q6J("routerLink",n.DdM(4,_)),n.xp6(9),n.Q6J("formGroup",r.form),n.xp6(1),n.Q6J("control",r.form.controls.email),n.xp6(1),n.Q6J("control",r.form.controls.password))},dependencies:[t.UX,t._Y,t.JL,t.sg,m.a,u.r,a.Bz,a.rH],styles:["[_nghost-%COMP%]{display:grid;min-height:100vh;grid-template-columns:repeat(2,1fr)}.image[_ngcontent-%COMP%]{background-image:url(login.881b1cbe5f42c04b.jpg);background-position:center;background-size:cover;opacity:.7;mix-blend-mode:difference}img[_ngcontent-%COMP%]{width:4rem}main[_ngcontent-%COMP%]{padding:0 2rem;display:grid;place-content:center}h1[_ngcontent-%COMP%]{margin:1rem 0}p[_ngcontent-%COMP%]{display:inline;text-align:center;transform:translateY(2.7rem)}hr[_ngcontent-%COMP%]{border-color:#50555e;margin:2rem 0}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;padding:.5rem 0;margin:.5rem 0}"]})}}}]);